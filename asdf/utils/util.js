"use strict";var guid=require("./guid.js"),uuidSaved="",formatTime=function(e){var t=e.getFullYear(),u=e.getMonth()+1,r=e.getDate(),i=e.getHours(),n=e.getMinutes(),g=e.getSeconds();return[t,u,r].map(formatNumber).join("-")+" "+[i,n,g].map(formatNumber).join(":")},formatNumber=function(e){return e=e.toString(),e[1]?e:"0"+e},getUserUnique=function(e){if(void 0===uuidSaved||""===uuidSaved){var t=wx.getStorageSync("uuid");void 0===t||""===t?(uuidSaved=guid.NewGuid(),wx.setStorageSync("uuid",uuidSaved)):uuidSaved=t}return uuidSaved};module.exports={getUserUnique:getUserUnique,formatTime:formatTime},Date.prototype.format=function(e){var t=new Date(this.getTime()+60*(new Date).getTimezoneOffset()*1e3),u={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in u)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?u[r]:("00"+u[r]).substr((""+u[r]).length)));return e};